---
description: 
globs: 
alwaysApply: true
---
# ğŸ§  React Project Architecture Prompt (FSD + Vite + CSR)

Build a **React + TypeScript + Tanstack Query** project using **Feature-Sliced Design (FSD)** with **Vite** and **Client-Side Rendering (CSR)**.  
Use **TailwindCSS** and **shadcn/ui**, and follow the structure and conventions below.  
All modules must follow the **ECMAScript Modules (ESM)** standard â€” use only `import/export`.

---

## ğŸ“ `src/` Structure

```
src/
â”œâ”€â”€ app/         # App-level config (routing, layout, theme, providers)
â”œâ”€â”€ pages/       # Optional route mapping
â”œâ”€â”€ processes/   # High-level business flows
â”œâ”€â”€ widgets/     # Layout blocks (e.g., header, sidebar)
â”œâ”€â”€ features/    # Functional units (e.g., login-form)
â”œâ”€â”€ entities/    # Domain logic and models (e.g., user)
â”œâ”€â”€ shared/      # Global UI, utilities, types (no business logic)
â””â”€â”€ index.tsx
```

---

## ğŸ§© Slice Structure (`features/`, `entities/`, `widgets/`, `processes/`)

```
[slice-name]/
â”œâ”€â”€ model/     # State, effects, selectors
â”œâ”€â”€ ui/        # UI components
â”œâ”€â”€ lib/       # Logic & helpers
â”œâ”€â”€ api/       # API requests
â”œâ”€â”€ config/    # Constants
â”œâ”€â”€ types/     # Local types (optional)
â””â”€â”€ index.ts   # Public entry point
```

---

## âš–ï¸ File Routing Rules

- UI or user interaction â†’ `features/`
- Business data/logic â†’ `entities/`
- Visual layout â†’ `widgets/`
- Flow coordination â†’ `processes/`
- Global/reusable â†’ `shared/`

---

## ğŸ”¤ Naming Conventions

- **Use `kebab-case` for all file and folder names**, including components, hooks, utilities, and API modules.
- Examples:
  - `login-form.tsx`, `use-user-profile.ts`, `fetch-user.ts`, `user-card.tsx`
- Types should be named `types.ts` inside the appropriate folder.
- Each slice must expose a public interface via `index.ts`.

### ğŸ§± Component File Extension Rules

- **Use `.tsx` for all components that include JSX**.
- **If a component does not include JSX**, you may use `.ts` instead (e.g., for purely functional logic or styled-component wrappers).
- Example:
  - `user-card.tsx` (contains JSX)
  - `create-theme.ts` (pure function returning config object or class)

---

## ğŸ“˜ README.md Guidelines

- Every **top-level folder** and **domain slice** must include a `README.md`.
- The README must explain:
  - The **purpose** of the folder or slice
  - The **responsibility boundaries**
  - Any **naming conventions**, architectural patterns, or edge cases used
  - **What should be included** in the folder and **how to extend** it

> âœ… When a file is added or modified in a folder, the `README.md` must be **updated to reflect the latest structure and purpose of the file**.  
> You **do not need to log historical changes** â€” only the current structure and rationale should be documented.

---

## ğŸš« Do Not

- âŒ Import one feature/entity into another
- âŒ Put logic in `shared/`
- âŒ Place business logic inside widgets
- âŒ Overuse `useState` for complex state
- âŒ Use CommonJS (`require`, `module.exports`) â€” always use ES Modules

---

## ğŸ¨ shadcn/ui Rules

- Wrap primitives in `shared/ui/primitives/`
- Create abstractions (e.g. `modal`, `alert-dialog`) in `shared/ui/`
- Never import directly from `@/components/ui` in features/entities

---

## âœ… Usage Examples

- â€œCreate a `login` feature with form in `ui/login-form.tsx` and state in `model/store.ts`.â€
- â€œDefine `user` entity with `types.ts` and `avatar.tsx` in `ui/`.â€
- â€œWrap shadcnâ€™s `dialog` into `shared/ui/primitives/dialog.tsx` and expose `modal.tsx` abstraction.â€
- â€œAdd a README that explains the structure and responsibility of `widgets/sidebar/`.â€

---

## ğŸ“Œ Summary

- Follow **FSD** strictly:
  - `entities` = domain logic  
  - `features` = interaction logic  
  - `widgets` = composition blocks  
  - `processes` = business flows  
  - `shared` = global utilities

- Use **`kebab-case`** for all filenames and folders  
- Use **ES Modules** only (`import` / `export`)  
- **Keep the `README.md` up to date** with the latest folder structure and purpose  
- **Use `.tsx` for JSX components; use `.ts` if the file contains no JSX**
